unbind-key -a

# Window management
bind n new-window -c "#{pane_current_path}"
bind r command-prompt -I "#{window_name}" -p "Window name:" "rename-window '%%'"
bind X kill-window

# Window navigation (no prefix needed)
bind -n C-[ previous-window
bind -n C-] next-window

# Pane splitting
bind - split-window -v -c "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"

# Pane utilities
bind x kill-pane
bind * setw synchronize-panes
bind b set pane-border-status

# Pane selection by number
bind p display-panes
bind 1 select-pane -t 1
bind 2 select-pane -t 2
bind 3 select-pane -t 3
bind 4 select-pane -t 4
bind 5 select-pane -t 5
bind 6 select-pane -t 6
bind 7 select-pane -t 7
bind 8 select-pane -t 8
bind 9 select-pane -t 9

# Pane resizing - prefix + z enters resize mode
bind z switch-client -T resize
bind -T resize h resize-pane -L 5 \; switch-client -T resize \; display-message "RESIZE MODE: h/j/k/l to resize, any other key to exit"
bind -T resize j resize-pane -D 3 \; switch-client -T resize \; display-message "RESIZE MODE: h/j/k/l to resize, any other key to exit"
bind -T resize k resize-pane -U 3 \; switch-client -T resize \; display-message "RESIZE MODE: h/j/k/l to resize, any other key to exit"
bind -T resize l resize-pane -R 5 \; switch-client -T resize \; display-message "RESIZE MODE: h/j/k/l to resize, any other key to exit"

# Repeatable resize (fallback)
bind -r h resize-pane -L 10
bind -r l resize-pane -R 10
bind -r j resize-pane -D 7
bind -r k resize-pane -U 7

# Session management
bind s command-prompt -I "#{session_name}" -p "Session name:" "rename-session '%%'"
bind q confirm-before -p "Kill the current tmux session? (y/n)" "kill-session"
bind d detach-client

# Copy mode
bind v copy-mode -u

# Misc utilities
bind : command-prompt
bind c source-file $TMUX_CONFIG_DIR/tmux.conf

