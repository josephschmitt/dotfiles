# Tmux Configuration
# Modular config: edit the relevant conf.d/ file by feature.

# Clean slate
source-file $TMUX_CONFIG_DIR/tmux.reset.conf

# Load configuration modules in order
# NOTE: Listed explicitly so TPM can parse source-file paths for @plugin declarations.
# TPM uses awk/sed to scan sourced files and cannot expand $TMUX_CONFIG_DIR or globs.
source-file ~/.config/tmux/conf.d/00-terminal.conf
source-file ~/.config/tmux/conf.d/10-options.conf
source-file ~/.config/tmux/conf.d/20-appearance.conf
source-file ~/.config/tmux/conf.d/30-plugins.conf
source-file ~/.config/tmux/conf.d/40-layouts.conf
source-file ~/.config/tmux/conf.d/50-apps.conf
source-file ~/.config/tmux/conf.d/60-sessions.conf

# Initialize Tmux Plugin Manager (MUST be last)
run '~/.tmux/plugins/tpm/tpm'

# Set initial responsive state after plugins load
run-shell -b "sleep 2 && $TMUX_CONFIG_DIR/scripts/powerkit-responsive.sh"
